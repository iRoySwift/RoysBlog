---
id: solana-bootcamp-classical-scientist-means
title: 2、经典科学家手段
---

## 假 Token

前面介绍的 cashio，本质上就是个假 Token 的案例。

假 Token 最出名的，是从 EOS 时代。ERC20 规范导致，大家都会去检查 ERC20 的地址，或者说写合约的时候 判断条件就是地址。而 EOS 包括现在的 Solana，地址条件不是那么明显，比如 EOS 的 name，Solana 需要 用户传递进来 Mint Account。

因此如果没有做相关 check 就有可能出现假 Token

## 闪电贷

闪电贷本身是没有什么问题，但是闪电贷可能被科学家用于辅助。比如正常情况下，用户是没有那么多的 某个 Token 的，但是他可以去闪电贷服务里面，临时借入大量这种 Token，然后操作我们的逻辑，影响这里的 数据，典型的是 DeFi 里面，通过外借 Token，进行砸盘。然后同一个 Tx 里面再跟上科学家自己的 Token 低价买入。

## CPI

普通合约都是针对普通玩家来执行动作的，也就是发起交易的是一个 owner 为 system 的 Account。这个 Account 最多就是将多个指令串在一个交易里面执行，但是他没法做到其他更多的功能。

通过 CPI，我们可以让发起动作的是一个合约，在这个合约里面，我们就可以编程了，Sui 提出了一个叫做 "Programmable Transaction"的概念，其实就类似这个。或者 ETH 里面的 MultiCall 也是类似的概念。

在这里我们就可以借助合约的执行，来做一些逻辑，比如判断当前执行的时候，Blocke Height，Slot 信息。

## 权限检查

权限检查是个老生常谈的问题，在任何链上都是存在的。但是在 Solana 上，可能会更明显。

为什么呢？因为 Account 除了记录的信息外，其本身还有个 owner 的属性，来判断所属。所以除了我们应用逻辑里面 检查这里 Account 里面记录的信息外，还需要检查这个 Account 的 onwer

## 重入、重新初始化

在 Eth 中，重入是个必检查项目。在 Solana 里面，重入和重新初始化问题不是那么严重，我们可以简单的在 Account 里面增加一个字段，表示是否已经初始化了。

另外，可以根据这个 Account 是否存在来判断是否已经初始化了。

但是如果没有检查，就有可能出现这样的问题。
